"use strict";(self["webpackChunkvue_mall"]=self["webpackChunkvue_mall"]||[]).push([[922],{6131:function(t,s,e){e.d(s,{Z:function(){return o}});var l=function(){var t=this,s=t._self._c;return s("div",{staticClass:"nav_bar"},[s("div",{staticClass:"left"},[t._t("left")],2),s("div",{staticClass:"center"},[t._t("center")],2),s("div",{staticClass:"right"},[t._t("right")],2)])},c=[],i={name:"NavBar"},r=i,a=e(1001),n=(0,a.Z)(r,l,c,!1,null,"d88404ea",null),o=n.exports},1595:function(t,s,e){e.d(s,{Z:function(){return u}});var l=function(){var t=this,s=t._self._c;return s("div",{ref:"wrapperRef",staticClass:"wrapper"},[s("div",{staticClass:"content"},[t._t("default")],2)])},c=[],i=e(9306),r={name:"ScrollMode",props:{probeType:{type:Number,default:0},pullUpLoad:{type:Boolean,default:!1}},data(){return{scroll:null}},mounted(){this.scroll=new i.Z(this.$refs.wrapperRef,{probeType:this.probeType,pullUpLoad:this.pullUpLoad,click:!0}),2!==this.probeType&&3!==this.probeType||this.scroll.on("scroll",(t=>{this.$emit("scroll",t)})),this.pullUpLoad&&this.scroll.on("pullingUp",(()=>{setTimeout((()=>{this.$emit("pullingUp"),this.scroll.finishPullUp(),this.scroll.refresh()}),1e3)}))},methods:{scrollTo(t,s,e=500){this.scroll.scrollTo(t,s,e)},refresh(){this.scroll.refresh()}}},a=r,n=e(1001),o=(0,n.Z)(a,l,c,!1,null,null,null),u=o.exports},922:function(t,s,e){e.r(s),e.d(s,{default:function(){return F}});var l=function(){var t=this,s=t._self._c;return s("div",{staticClass:"shopcar"},[s("CartNavbar"),s("CartList"),s("CartBottomBar")],1)},c=[],i=function(){var t=this,s=t._self._c;return s("NavBar",{staticClass:"shopcar_navbar",scopedSlots:t._u([{key:"center",fn:function(){return[t._v(" 购物车("+t._s(t.cartList.length)+") ")]},proxy:!0}])})},r=[],a=e(3822),n=e(6131),o={name:"cartNavbar",components:{NavBar:n.Z},computed:{...(0,a.rn)(["cartList"])}},u=o,h=e(1001),p=(0,h.Z)(u,i,r,!1,null,"5eb7e221",null),d=p.exports,f=function(){var t=this,s=t._self._c;return s("div",{staticClass:"cartlist"},[s("Scroll",{ref:"scrollRef",staticClass:"content"},[0!==t.cartList.length?s("div",t._l(t.cartList,(function(t){return s("CartListItem",{key:t.iid,attrs:{itemInfo:t}})})),1):t._e()])],1)},m=[],v=function(){var t=this,s=t._self._c;return s("div",{staticClass:"cartList_item"},[s("div",{staticClass:"left"},[s("CheckBtn",{staticClass:"checkItem",attrs:{ischeck:t.itemInfo.ischeck},nativeOn:{click:function(s){return t.checkGood(t.itemInfo)}}}),s("img",{attrs:{src:t.itemInfo.image}})],1),s("div",{staticClass:"right"},[s("p",{staticClass:"title"},[t._v(t._s(t.itemInfo.title))]),s("p",{staticClass:"desc"},[t._v(t._s(t.itemInfo.desc))]),s("div",{staticClass:"other"},[s("div",{staticClass:"price"},[t._v("￥"+t._s(t.itemInfo.price))]),s("div",{staticClass:"cnt"},[t._v("x"+t._s(t.itemInfo.count))])])])])},_=[],C=function(){var t=this,s=t._self._c;return s("div",{class:{active:t.ischeck}},[s("img",{attrs:{src:e(3476),alt:""}})])},k=[],L={name:"checkBtn",props:{ischeck:{type:Boolean,default:!1}}},B=L,b=(0,h.Z)(B,C,k,!1,null,"4d8e9171",null),$=b.exports,g={name:"cartListItem",props:{itemInfo:{type:Object,default(){return{}}}},components:{CheckBtn:$},data(){return{ischeck:null}},computed:{...(0,a.rn)(["cartList"])},methods:{checkGood(t){this.$store.dispatch("checkgood",t);let s=!0;this.cartList.forEach((t=>{!1!==t.ischeck||(s=!1)})),this.$bus.$emit("shouldSelectAll",s)}}},y=g,I=(0,h.Z)(y,v,_,!1,null,"3e56db6d",null),Z=I.exports,x=e(1595),A={name:"cartList",components:{CartListItem:Z,Scroll:x.Z},computed:{...(0,a.rn)(["cartList"])},mounted(){this.$bus.$on("shopcarRefresh",(()=>{this.$refs.scrollRef.refresh()}))}},w=A,T=(0,h.Z)(w,f,m,!1,null,"24029d39",null),S=T.exports,N=function(){var t=this,s=t._self._c;return s("div",{staticClass:"cartBottomBar"},[s("div",{staticClass:"selectAll"},[s("CheckBtn",{staticClass:"checkBtn",attrs:{ischeck:t.selectAll},nativeOn:{click:function(s){return t.selectAllGoods.apply(null,arguments)}}}),s("span",[t._v("全选")])],1),s("div",{staticClass:"total"},[t._v(" 合计："),s("span",[t._v("￥"+t._s(t.totalPrice))])]),s("div",{staticClass:"toBuy",on:{click:t.toBuyGoods}},[t._v(" 去计算("+t._s(t.totalCount)+") ")])])},U=[],G={name:"cartBottomBar",computed:{...(0,a.rn)(["cartList"]),totalPrice(){return this.cartList.filter((t=>!0===t.ischeck)).reduce(((t,s)=>t+s.price*s.count),0).toFixed(2)},totalCount(){return this.cartList.filter((t=>!0===t.ischeck)).length}},components:{CheckBtn:$},mounted(){this.$bus.$on("shouldSelectAll",(t=>{this.selectAll=t}))},data(){return{selectAll:!1}},methods:{selectAllGoods(){this.cartList.length?(this.selectAll=!this.selectAll,this.$store.commit("SELECTALL",this.selectAll)):this.$toast.show("请添加商品",1500)},toBuyGoods(){0===this.cartList.filter((t=>t.ischeck)).length?this.$toast.show("请选择商品",1500):this.$toast.show("巴拉巴拉巴拉",1500)}}},R=G,E=(0,h.Z)(R,N,U,!1,null,"9adf5d42",null),O=E.exports,P={name:"ShopcarMode",components:{CartNavbar:d,CartList:S,CartBottomBar:O},activated(){this.$bus.$emit("shopcarRefresh")}},M=P,j=(0,h.Z)(M,l,c,!1,null,"68d91652",null),F=j.exports},3476:function(t,s,e){t.exports=e.p+"img/tick.82dd6e3a.svg"}}]);
//# sourceMappingURL=922.625b83df.js.map